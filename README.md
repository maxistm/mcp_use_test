# MCP-CB - Telegram Bot with ChatGPT and Web Page Parser

Telegram –±–æ—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π ChatGPT/DeepSeek –∏ MCP fetch —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å `pyproject.toml` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- **`pyproject.toml`** - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **`config.json`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ (—Ç–æ–∫–µ–Ω—ã, API –∫–ª—é—á–∏)
- **`.python-version`** - –≤–µ—Ä—Å–∏—è Python (3.12)
- **`uv.lock`** - lock-—Ñ–∞–π–ª –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ ChatGPT/DeepSeek API
- üåê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ URL –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- üìÑ –ü–∞—Ä—Å–∏–Ω–≥ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –≤ Markdown —Ñ–æ—Ä–º–∞—Ç —á–µ—Ä–µ–∑ MCP fetch —Å–µ—Ä–≤–µ—Ä
- üìä –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç AI
- üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+ (—É–∫–∞–∑–∞–Ω–æ –≤ `.python-version`)
- Docker (–¥–ª—è MCP fetch —Å–µ—Ä–≤–µ—Ä–∞)
- Telegram Bot Token
- OpenAI-compatible API Key (DeepSeek, OpenAI, –∏ —Ç.–¥.)

> üí° **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏–∑ `pyproject.toml`

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞ 4 —à–∞–≥–∞:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone <repo-url>
cd mcp_use_test

# 2. –û–∫—Ä—É–∂–µ–Ω–∏–µ
python3.12 -m venv .venv
source .venv/bin/activate  # Linux/Mac –∏–ª–∏ .venv\Scripts\activate (Windows)

# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ pyproject.toml
pip install -e .

# 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
cp config.json.example config.json
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.json —Å–æ —Å–≤–æ–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏

# 5. –ó–∞–ø—É—Å–∫
python main.py
```

üìñ **–ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ** —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Ä–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:

```bash
# –°–∫–∞—á–∞–π—Ç–µ MCP fetch –æ–±—Ä–∞–∑ Docker
docker pull mcp/fetch

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç
docker ps
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É URL –ª—é–±–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```
https://example.com
```

–ë–æ—Ç:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç URL –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
2. –ó–∞–ø–∞—Ä—Å–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ MCP fetch —Å–µ—Ä–≤–µ—Ä
3. –ü–µ—Ä–µ–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–Ω—Ç ChatGPT –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
4. –í–µ—Ä–Ω–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ URL.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
pip install -e .

# –¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
python -c "import bot, mcp_client, main; print('–í—Å–µ –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ')"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP fetch —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç Docker)
python -c "import asyncio; from mcp_client import MCPClient; print('MCP –∫–ª–∏–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ')"
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å uv

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [uv](https://github.com/astral-sh/uv):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å uv (–±—ã—Å—Ç—Ä–µ–µ pip)
uv sync

# –ó–∞–ø—É—Å–∫ —Å uv
uv run python main.py
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ     Bot      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  ChatGPT/   ‚îÇ
‚îÇ    User     ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (bot.py)   ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  DeepSeek   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ MCP Client   ‚îÇ
                    ‚îÇ(mcp_client.py‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ Docker MCP   ‚îÇ
                    ‚îÇ Fetch Server ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mcp_use_test/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ bot.py               # –õ–æ–≥–∏–∫–∞ Telegram –±–æ—Ç–∞
‚îú‚îÄ‚îÄ mcp_client.py        # MCP –∫–ª–∏–µ–Ω—Ç –¥–ª—è fetch —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ pyproject.toml       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ uv.lock              # Lock-—Ñ–∞–π–ª –¥–ª—è uv package manager
‚îú‚îÄ‚îÄ config.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ config.json.example  # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .python-version      # –í–µ—Ä—Å–∏—è Python (3.12)
‚îú‚îÄ‚îÄ .venv/               # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ bot.log              # –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ copilot-instructions.md  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `pyproject.toml` –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:

```toml
[project]
name = "mcp-cb"
version = "0.1.0"
description = "Telegram chatbot with ChatGPT and MCP server integration"
requires-python = ">=3.12"
dependencies = [
    "pyTelegramBotAPI>=4.14.0",
    "openai>=1.12.0", 
    "requests>=2.31.0",
    "mcp",
]
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
echo 'new-package>=1.0.0' >> pyproject.toml

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –Ω–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏  
pip install -e .

# –ò–ª–∏ —Å uv
uv add new-package
```

### –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

**Q: –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Telegram Bot Token?**
- –ü–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å [@BotFather](https://t.me/botfather) –≤ Telegram
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

**Q: –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á DeepSeek?**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [DeepSeek API –ø–ª–∞—Ç—Ñ–æ—Ä–º—É](https://platform.deepseek.com)
- –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ API –∫–ª—é—á

**Q: Docker —Ç—Ä–µ–±—É–µ—Ç—Å—è?**
- –î–∞, –¥–ª—è —Ä–∞–±–æ—Ç—ã MCP fetch —Å–µ—Ä–≤–µ—Ä–∞
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop –¥–ª—è –≤–∞—à–µ–π –û–°

**Q: –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI –≤–º–µ—Å—Ç–æ DeepSeek?**
- –î–∞! –ü—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ `base_url` –∏ `model` –≤ `config.json`

**Q: –û—à–∏–±–∫–∞ "config.json –Ω–µ –Ω–∞–π–¥–µ–Ω"**
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `cp config.json.example config.json`
- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**Q: –û—à–∏–±–∫–∞ "Cannot connect to Docker daemon"**
- Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop –∏–ª–∏ –¥–µ–º–æ–Ω
- Linux: `sudo systemctl start docker`

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
pip install -e .

# –° –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install black flake8 isort pytest

# –ò–ª–∏ —Å uv
uv sync
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
black .
isort .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è
flake8 .

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
python check_setup.py
```

### –ö–æ–¥–æ–≤—ã–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏

- ‚úÖ Type hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- ‚úÖ Docstrings –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ print
- ‚úÖ Python 3.12+ idioms
- ‚úÖ Async/await –¥–ª—è MCP –æ–ø–µ—Ä–∞—Ü–∏–π

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

### –ü—Ä–æ—Ü–µ—Å—Å PR

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch: `git checkout -b feature/your-feature`
3. Commit: `git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ"`
4. Push –∏ —Å–æ–∑–¥–∞–π—Ç–µ Pull Request

### –¢–∏–ø—ã –∫–æ–º–º–∏—Ç–æ–≤

```
feat:   –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
fix:    –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
docs:   –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
refactor: –ø–µ—Ä–µ–¥–µ–ª–∫–∞ –∫–æ–¥–∞
test:   —Ç–µ—Å—Ç—ã
chore:  —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
